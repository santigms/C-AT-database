<!-- DECLARACIÓN DEL CONTROL DE USUARIO Y ESPACIOS DE NOMBRES -->
<!-- Define el ViewModel que se usará en esta vista en linea 9-->
<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:viewModels="clr-namespace:Pruebaa.ViewModels"
             x:DataType="viewModels:PersonaViewModel" 
             x:Class="Pruebaa.Views.PersonaView">
  <!-- Asigna el ViewModel como contexto de datos (DataContext) -->
  <!-- Esto permite que los controles se vinculen a las propiedades del ViewModel -->
  <UserControl.DataContext>
    <viewModels:PersonaViewModel/>
  </UserControl.DataContext>
  <!-- Border: contenedor que añade padding y margen para espaciado -->
  <Border Padding = "30" Margin = "20">
    <StackPanel Spacing="25">
      <!-- TÍTULO PRINCIPAL -->
      <TextBlock Text= "Base de datos AT"
                FontSize="28"
                FontWeight="Bold"
                HorizontalAlignment="Center"/>
      <!-- GRID DE ENTRADA DE DATOS: Define 2 columnas y 4 filas -->
      <Grid ColumnDefinitions="Auto, *"
            RowDefinitions="Auto,Auto,Auto,Auto"
            ColumnSpacing= "15"
            RowSpacing="">
            <!-- CAMPO NOMBRE: Etiqueta + TextBox vinculado a Name -->
            <TextBlock Grid.Row="0"
                       VerticalAlignment="Center"
                       Text= "Nombre:">
            </TextBlock>
            <!-- Mode=TwoWay sincroniza datos bidireccionales -->
            <TextBox Grid.Row="0" Grid.Column="1" 
                      Watermark="ingrese su nombre"
                      Text= "{Binding Name, Mode=TwoWay}">
            </TextBox>

            <!-- CAMPO ID: Etiqueta + TextBox vinculado a Id -->
            <TextBlock Grid.Row="1"
                       VerticalAlignment="Center"
                       Text= "Id:">
            </TextBlock>
            <TextBox Grid.Row="1" Grid.Column="1" 
                      Watermark="ingrese el id"
                      Text= "{Binding Id, Mode=TwoWay}">
            </TextBox>

            <!-- CAMPO EDAD: Etiqueta + TextBox vinculado a Age -->
            <TextBlock Grid.Row="2"
                       VerticalAlignment="Center"
                       Text= "Edad:">
            </TextBlock>
            <TextBox Grid.Row="2" Grid.Column="1" 
                    Watermark="ingrese su edad"
                    Text= "{Binding Age, Mode=TwoWay}">
              </TextBox>
            </Grid>
      <!-- BOTONES DE ACCIONES CRUD -->
      <!-- Cada botón ejecuta un comando del ViewModel -->
      <StackPanel Orientation= "Horizontal" HorizontalAlignment = "Center" Spacing = "12">
        <Button Content="Agregar" Width= "130" Command="{Binding AddCommand}"></Button>
        <Button Content="Actualizar" Width= "130" Command="{Binding ActualizeCommand}"></Button>
        <Button Content="Borrar" Width= "130" Command="{Binding DeleteCommand}"></Button>
        <Button Content="Limpiar" Width= "130" Command="{Binding ClearCommand}"></Button>
      </StackPanel>
      <!-- LISTBOX: Muestra la lista de personas -->
      <TextBlock Text="Lista de personas" FontWeight="Bold" Margin="0, 10, 0, 0" FontSize="18"></TextBlock>
      <ListBox ItemsSource="{Binding Personas}" SelectedItem="{Binding SelectedPersona}">
        <!-- DataTemplate define cómo se representa cada persona en la lista -->
        <ListBox.ItemTemplate>
          <DataTemplate>
            <!-- Muestra solo el nombre de cada persona -->
            <TextBlock Text="{Binding Name}" Padding="8" FontSize="14"></TextBlock>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </StackPanel>
  </Border>
</UserControl>
